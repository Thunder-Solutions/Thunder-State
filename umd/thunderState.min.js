!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ThunderState={})}(this,(function(t){"use strict";function e(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function c(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))}function r(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function n(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}var o="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),c=a.Symbol,u=Object.prototype,s=u.hasOwnProperty,f=u.toString,l=c?c.toStringTag:void 0;var p=Object.prototype.toString;var y=c?c.toStringTag:void 0;function h(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?function(t){var e=s.call(t,l),r=t[l];try{t[l]=void 0;var n=!0}catch(t){}var o=f.call(t);return n&&(e?t[l]=r:delete t[l]),o}(t):function(t){return p.call(t)}(t)}function v(t){return null!=t&&"object"==typeof t}var b=Array.isArray;function d(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function g(t){if(!d(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var j,w=a["__core-js_shared__"],_=(j=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"";var m=Function.prototype.toString;function O(t){if(null!=t){try{return m.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var A=/^\[object .+?Constructor\]$/,x=Function.prototype,S=Object.prototype,E=x.toString,P=S.hasOwnProperty,L=RegExp("^"+E.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k(t){return!(!d(t)||(e=t,_&&_ in e))&&(g(t)?L:A).test(O(t));var e}function N(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return k(r)?r:void 0}var T=N(a,"WeakMap"),z=Object.create,M=function(){function t(){}return function(e){if(!d(e))return{};if(z)return z(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var F=function(){try{var t=N(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var D=/^(?:0|[1-9]\d*)$/;function U(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&D.test(t))&&t>-1&&t%1==0&&t<e}function I(t,e,r){"__proto__"==e&&F?F(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function B(t,e){return t===e||t!=t&&e!=e}var G=Object.prototype.hasOwnProperty;function V(t,e,r){var n=t[e];G.call(t,e)&&B(n,r)&&(void 0!==r||e in t)||I(t,e,r)}function R(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),o?I(r,c,u):V(r,c,u)}return r}function W(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function $(t){return null!=t&&W(t.length)&&!g(t)}var H=Object.prototype;function q(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||H)}function C(t){return v(t)&&"[object Arguments]"==h(t)}var J=Object.prototype,Y=J.hasOwnProperty,K=J.propertyIsEnumerable,Q=C(function(){return arguments}())?C:function(t){return v(t)&&Y.call(t,"callee")&&!K.call(t,"callee")},X=Q;var Z="object"==typeof t&&t&&!t.nodeType&&t,tt=Z&&"object"==typeof module&&module&&!module.nodeType&&module,et=tt&&tt.exports===Z?a.Buffer:void 0,rt=(et?et.isBuffer:void 0)||function(){return!1},nt={};function ot(t){return function(e){return t(e)}}nt["[object Float32Array]"]=nt["[object Float64Array]"]=nt["[object Int8Array]"]=nt["[object Int16Array]"]=nt["[object Int32Array]"]=nt["[object Uint8Array]"]=nt["[object Uint8ClampedArray]"]=nt["[object Uint16Array]"]=nt["[object Uint32Array]"]=!0,nt["[object Arguments]"]=nt["[object Array]"]=nt["[object ArrayBuffer]"]=nt["[object Boolean]"]=nt["[object DataView]"]=nt["[object Date]"]=nt["[object Error]"]=nt["[object Function]"]=nt["[object Map]"]=nt["[object Number]"]=nt["[object Object]"]=nt["[object RegExp]"]=nt["[object Set]"]=nt["[object String]"]=nt["[object WeakMap]"]=!1;var it="object"==typeof t&&t&&!t.nodeType&&t,at=it&&"object"==typeof module&&module&&!module.nodeType&&module,ct=at&&at.exports===it&&o.process,ut=function(){try{var t=at&&at.require&&at.require("util").types;return t||ct&&ct.binding&&ct.binding("util")}catch(t){}}(),st=ut&&ut.isTypedArray,ft=st?ot(st):function(t){return v(t)&&W(t.length)&&!!nt[h(t)]},lt=Object.prototype.hasOwnProperty;function pt(t,e){var r=b(t),n=!r&&X(t),o=!r&&!n&&rt(t),i=!r&&!n&&!o&&ft(t),a=r||n||o||i,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=c.length;for(var s in t)!e&&!lt.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||U(s,u))||c.push(s);return c}function yt(t,e){return function(r){return t(e(r))}}var ht=yt(Object.keys,Object),vt=Object.prototype.hasOwnProperty;function bt(t){return $(t)?pt(t):function(t){if(!q(t))return ht(t);var e=[];for(var r in Object(t))vt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var dt=Object.prototype.hasOwnProperty;function gt(t){if(!d(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=q(t),r=[];for(var n in t)("constructor"!=n||!e&&dt.call(t,n))&&r.push(n);return r}function jt(t){return $(t)?pt(t,!0):gt(t)}var wt=N(Object,"create");var _t=Object.prototype.hasOwnProperty;var mt=Object.prototype.hasOwnProperty;function Ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t,e){for(var r=t.length;r--;)if(B(t[r][0],e))return r;return-1}Ot.prototype.clear=function(){this.__data__=wt?wt(null):{},this.size=0},Ot.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ot.prototype.get=function(t){var e=this.__data__;if(wt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return _t.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return wt?void 0!==e[t]:mt.call(e,t)},Ot.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=wt&&void 0===e?"__lodash_hash_undefined__":e,this};var xt=Array.prototype.splice;function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,r=At(e,t);return!(r<0)&&(r==e.length-1?e.pop():xt.call(e,r,1),--this.size,!0)},St.prototype.get=function(t){var e=this.__data__,r=At(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return At(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=At(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Et=N(a,"Map");function Pt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Lt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}Lt.prototype.clear=function(){this.size=0,this.__data__={hash:new Ot,map:new(Et||St),string:new Ot}},Lt.prototype.delete=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e},Lt.prototype.get=function(t){return Pt(this,t).get(t)},Lt.prototype.has=function(t){return Pt(this,t).has(t)},Lt.prototype.set=function(t,e){var r=Pt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var Nt=yt(Object.getPrototypeOf,Object);function Tt(t){var e=this.__data__=new St(t);this.size=e.size}Tt.prototype.clear=function(){this.__data__=new St,this.size=0},Tt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var n=r.__data__;if(!Et||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Lt(n)}return r.set(t,e),this.size=r.size,this};var zt="object"==typeof t&&t&&!t.nodeType&&t,Mt=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=Mt&&Mt.exports===zt?a.Buffer:void 0,Dt=Ft?Ft.allocUnsafe:void 0;function Ut(){return[]}var It=Object.prototype.propertyIsEnumerable,Bt=Object.getOwnPropertySymbols,Gt=Bt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}(Bt(t),(function(e){return It.call(t,e)})))}:Ut;var Vt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)kt(e,Gt(t)),t=Nt(t);return e}:Ut;function Rt(t,e,r){var n=e(t);return b(t)?n:kt(n,r(t))}function Wt(t){return Rt(t,bt,Gt)}function $t(t){return Rt(t,jt,Vt)}var Ht=N(a,"DataView"),qt=N(a,"Promise"),Ct=N(a,"Set"),Jt="[object Map]",Yt="[object Promise]",Kt="[object Set]",Qt="[object WeakMap]",Xt="[object DataView]",Zt=O(Ht),te=O(Et),ee=O(qt),re=O(Ct),ne=O(T),oe=h;(Ht&&oe(new Ht(new ArrayBuffer(1)))!=Xt||Et&&oe(new Et)!=Jt||qt&&oe(qt.resolve())!=Yt||Ct&&oe(new Ct)!=Kt||T&&oe(new T)!=Qt)&&(oe=function(t){var e=h(t),r="[object Object]"==e?t.constructor:void 0,n=r?O(r):"";if(n)switch(n){case Zt:return Xt;case te:return Jt;case ee:return Yt;case re:return Kt;case ne:return Qt}return e});var ie=oe,ae=Object.prototype.hasOwnProperty;var ce=a.Uint8Array;function ue(t){var e=new t.constructor(t.byteLength);return new ce(e).set(new ce(t)),e}var se=/\w*$/;var fe=c?c.prototype:void 0,le=fe?fe.valueOf:void 0;function pe(t,e,r){var n,o,i,a=t.constructor;switch(e){case"[object ArrayBuffer]":return ue(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var r=e?ue(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?ue(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,se.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return n=t,le?Object(le.call(n)):{}}}var ye=ut&&ut.isMap,he=ye?ot(ye):function(t){return v(t)&&"[object Map]"==ie(t)};var ve=ut&&ut.isSet,be=ve?ot(ve):function(t){return v(t)&&"[object Set]"==ie(t)},de="[object Arguments]",ge="[object Function]",je="[object Object]",we={};function _e(t,e,r,n,o,i){var a,c=1&e,u=2&e,s=4&e;if(r&&(a=o?r(t,n,o,i):r(t)),void 0!==a)return a;if(!d(t))return t;var f=b(t);if(f){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ae.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,a)}else{var l=ie(t),p=l==ge||"[object GeneratorFunction]"==l;if(rt(t))return function(t,e){if(e)return t.slice();var r=t.length,n=Dt?Dt(r):new t.constructor(r);return t.copy(n),n}(t,c);if(l==je||l==de||p&&!o){if(a=u||p?{}:function(t){return"function"!=typeof t.constructor||q(t)?{}:M(Nt(t))}(t),!c)return u?function(t,e){return R(t,Vt(t),e)}(t,function(t,e){return t&&R(e,jt(e),t)}(a,t)):function(t,e){return R(t,Gt(t),e)}(t,function(t,e){return t&&R(e,bt(e),t)}(a,t))}else{if(!we[l])return o?t:{};a=pe(t,l,c)}}i||(i=new Tt);var y=i.get(t);if(y)return y;i.set(t,a),be(t)?t.forEach((function(n){a.add(_e(n,e,r,n,t,i))})):he(t)&&t.forEach((function(n,o){a.set(o,_e(n,e,r,o,t,i))}));var h=f?void 0:(s?u?$t:Wt:u?jt:bt)(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(h||t,(function(n,o){h&&(n=t[o=n]),V(a,o,_e(n,e,r,o,t,i))})),a}we[de]=we["[object Array]"]=we["[object ArrayBuffer]"]=we["[object DataView]"]=we["[object Boolean]"]=we["[object Date]"]=we["[object Float32Array]"]=we["[object Float64Array]"]=we["[object Int8Array]"]=we["[object Int16Array]"]=we["[object Int32Array]"]=we["[object Map]"]=we["[object Number]"]=we[je]=we["[object RegExp]"]=we["[object Set]"]=we["[object String]"]=we["[object Symbol]"]=we["[object Uint8Array]"]=we["[object Uint8ClampedArray]"]=we["[object Uint16Array]"]=we["[object Uint32Array]"]=!0,we["[object Error]"]=we[ge]=we["[object WeakMap]"]=!1;function me(t){return _e(t,5)}function Oe(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Lt;++e<r;)this.add(t[e])}function Ae(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}Oe.prototype.add=Oe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Oe.prototype.has=function(t){return this.__data__.has(t)};function xe(t,e,r,n,o,i){var a=1&r,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(t),f=i.get(e);if(s&&f)return s==e&&f==t;var l=-1,p=!0,y=2&r?new Oe:void 0;for(i.set(t,e),i.set(e,t);++l<c;){var h=t[l],v=e[l];if(n)var b=a?n(v,h,l,e,t,i):n(h,v,l,t,e,i);if(void 0!==b){if(b)continue;p=!1;break}if(y){if(!Ae(e,(function(t,e){if(a=e,!y.has(a)&&(h===t||o(h,t,r,n,i)))return y.push(e);var a}))){p=!1;break}}else if(h!==v&&!o(h,v,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function Se(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Ee(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Pe=c?c.prototype:void 0,Le=Pe?Pe.valueOf:void 0;var ke=Object.prototype.hasOwnProperty;var Ne="[object Arguments]",Te="[object Array]",ze="[object Object]",Me=Object.prototype.hasOwnProperty;function Fe(t,e,r,n,o,i){var a=b(t),c=b(e),u=a?Te:ie(t),s=c?Te:ie(e),f=(u=u==Ne?ze:u)==ze,l=(s=s==Ne?ze:s)==ze,p=u==s;if(p&&rt(t)){if(!rt(e))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new Tt),a||ft(t)?xe(t,e,r,n,o,i):function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new ce(t),new ce(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return B(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Se;case"[object Set]":var u=1&n;if(c||(c=Ee),t.size!=e.size&&!u)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var f=xe(c(t),c(e),n,o,i,a);return a.delete(t),f;case"[object Symbol]":if(Le)return Le.call(t)==Le.call(e)}return!1}(t,e,u,r,n,o,i);if(!(1&r)){var y=f&&Me.call(t,"__wrapped__"),h=l&&Me.call(e,"__wrapped__");if(y||h){var v=y?t.value():t,d=h?e.value():e;return i||(i=new Tt),o(v,d,r,n,i)}}return!!p&&(i||(i=new Tt),function(t,e,r,n,o,i){var a=1&r,c=Wt(t),u=c.length;if(u!=Wt(e).length&&!a)return!1;for(var s=u;s--;){var f=c[s];if(!(a?f in e:ke.call(e,f)))return!1}var l=i.get(t),p=i.get(e);if(l&&p)return l==e&&p==t;var y=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<u;){var v=t[f=c[s]],b=e[f];if(n)var d=a?n(b,v,f,e,t,i):n(v,b,f,t,e,i);if(!(void 0===d?v===b||o(v,b,r,n,i):d)){y=!1;break}h||(h="constructor"==f)}if(y&&!h){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(y=!1)}return i.delete(t),i.delete(e),y}(t,e,r,n,o,i))}function De(t,e,r,n,o){return t===e||(null==t||null==e||!v(t)&&!v(e)?t!=t&&e!=e:Fe(t,e,r,n,De,o))}function Ue(t,e){return De(t,e)}var Ie=function(t){return!!t&&"[object Object]"===t.toString()},Be=function(t){return t.slice(0,t.length-1)},Ge=function(){return new Error("\nNot allowed to set a property on the state directly.\nHandle state updates by defining and dispatching actions instead.\n")},Ve=function(t,e,r){if(void 0===r&&(r=0),0===e.length)return t;var n=t[e[r]],o="object"==typeof n||"function"==typeof n,i=e.length-1===r;if(!o&&!i)throw new TypeError("Unable to get value from path because at least one of the parent properties is not an object.");return i?n:Ve(n,e,r+1)},Re=function(t){var e=Array.isArray(t)?[]:{};return Object.keys(t).reduce((function(e,r){var n=t[r];return"function"==typeof n||(e[r]=Ie(n)||Array.isArray(n)?Re(n):n),e}),e)},We={get:function(){return null},set:function(){return!1}},$e=function t(e,r,o){void 0===r&&(r=We),void 0===o&&(o=[]);var i=this;Object.keys(e).forEach((function(a){var c=n(n([],o,!0),[a],!1),u={needsNewProxy:!0,proxy:null,getProxy:function(){return this.needsNewProxy&&(this.needsNewProxy=!1,this.proxy=Array.isArray(e[a])?new Proxy(e[a],{get:function(t,e){var o;return(null!==(o=r.get)&&void 0!==o?o:function(){return t[e]})(t,e,n(n([],c,!0),[e],!1))},set:function(t,e,o){var i;return null===(i=r.set)||void 0===i||i.call(r,t,e,o,n(n([],c,!0),[e],!1)),!0}}):new t(e[a],r,c)),this.proxy}};Object.defineProperty(i,a,{enumerable:!0,get:function(){return Ie(e[a])||Array.isArray(e[a])?u.getProxy():"__isProxy"===a||(r.get||function(){return e[a]})(e,a,c)},set:function(t){u.needsNewProxy=Ie(t)||Array.isArray(t),(r.set||function(){return e[a]=t})(e,a,t,c)}})}))},He=function(t,e){return new $e(t,e)},qe=function(t,e){var r=He(t,{set:function(){throw Ge()}}),n=function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){if(t in e)try{return e[t](r)}catch(e){throw function(t,e){return new Error('\nUnable to process computed property "'.concat(t,'"\n  - Make sure all state properties are spelled correctly.\n  - If it references other computed properties, make sure they are defined before this one.\n  - If both of the above are valid, see the original error below.\n\nOriginal error:\n\n').concat(e))}(t,e)}},set:function(){throw Ge()}})};for(var o in e)n(o);return r},Ce=function(t,e,r,o){var i=o.userDefinedWatchers,a=o.enableDevTools,c=r.getters,u=Object.keys(e).reduce((function(t,e){var r=c[e];return t[e]=Array.isArray(r)?JSON.stringify(r):r,t}),{});return function(o,c,s){var f,l,p=r.getters,y=r.watchers,h=Ve(p,c),v=Array.isArray(o)?h:s,b=Array.isArray(v)?function(t){for(var e=n([],t,!0),r=t.length-1;r>=0&&void 0===t[r];r--)e.pop();for(var o=0,i=t;o<i.length&&void 0===i[o];o++)e.shift();return e}(v):v,d=function(t){for(var e=Number(t),r=[],n=0;n<=e;n++)r.push(c[n]);var o=Ve(y,r);(null!==(f=i.get(o))&&void 0!==f?f:new Set).forEach((function(t){return t(b,(function(){o.destroy(t)}))}))};for(var g in c)d(g);var j=function(e){var r=p[e],n=Array.isArray(r)?JSON.stringify(r):r;return u[e]===n?"continue":((null!==(l=i.get(y[e]))&&void 0!==l?l:new Set).forEach((function(t){return t(r,(function(e){return e(t)}))})),a&&"undefined"!=typeof window?void window.postMessage({type:"thunderState_computed",message:{stateName:t,key:e,value:r}},"*"):"continue")};for(var w in e)j(w)}},Je=function(t,e,r,o,i){var a=i.enableDevTools,c=function(t,e,r,n){var o=n.recordMutations,i=n.actionHistory;o&&a&&i[0].mutations.push({oldValue:me(t),newValue:me(e),path:r})},u=new Map,s=function(t,n,i){Array.isArray(t)||(i(),Array.isArray(n)&&(o.getters=qe(e,r))),i(u.get(t)),u.set(t,!0),setTimeout((function(){u.set(t,!1)}),0)};return Object.seal(He(e,{get:function(e,u,f){var l=Array.isArray(e),p=Array.isArray(e[u]);if(!l&&!p)return e[u];var y=Ce(t,r,o,i),h=p?e[u]:e,v=function(t,e,r,o){for(var i=me(t),a=Array.prototype,c=function(c){var u=a[c];return"function"!=typeof u||c.startsWith("__")||"constructor"===c?"continue":void(i[c]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=null;return r(t,t,(function(r){if(e||!r){var a=me(t);c=u.call.apply(u,n([t],i,!1));var s=me(t);Ue(a,s)||o(a,s)}else c=u.call.apply(u,n([t],i,!1)),o(null,t)})),c})},u=0,s=Object.getOwnPropertyNames(a);u<s.length;u++)c(s[u]);return i}(h,a,s,(function(t,e){var r=Be(f);c(t,e,r,i),y(h,r,e)}));return p?v:v[u]},set:function(e,n,a,u){var f=e[n];if(f===a)return!0;var l=Ce(t,r,o,i);c(f,a,u,i),s(e,a,(function(){e[n]=a}));var p=Array.isArray(e)?Be(u):u;return l(e,p,a),i.recordMutations=!0,!0}}))},Ye=function(t,e,r){var o=e.getters;"undefined"!=typeof window&&(window.postMessage({type:"thunderState_initState",message:{stateName:t,state:Re(o)}},"*"),window.addEventListener("message",(function(e){var o=e.data,i=e.source===window&&Ie(o),a=o.type,c=o.stateName,u=o.message;if(i&&"thunderState_timeTravel"===a&&c===t){var s=u.index;!function(t,e){var r=e.setters,o=e.actionHistory,i=e.actionFuture,a=t<0,c=Math.abs(t),u=a?o.length:i.length,s=c>=u?u-1:c>0?c-1:0;n([],a?o:i,!0).some((function(t,n){var c=a?o:i,u=a?i:o;return t.mutations.forEach((function(t){e.recordMutations=!1;var n=t.oldValue,o=t.newValue,i=t.path,c=i.length>1?i.slice(0,i.length-1):[],u=i[i.length-1];Ve(r,c)[u]=me(a?n:o)})),c.shift(),u.unshift(t),n===s}))}(u.isRewinding?s>0?-s:-1:s+1,r)}})))};!function(t){var e,r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof module,c=t.regeneratorRuntime;if(c)a&&(module.exports=c);else{(c=t.regeneratorRuntime=a?module.exports:{}).wrap=h;var u="suspendedStart",s="suspendedYield",f="executing",l="completed",p={},y=g.prototype=b.prototype;d.prototype=y.constructor=g,g.constructor=d,g[i]=d.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(y),t},c.awrap=function(t){return new w(t)},j(_.prototype),c.async=function(t,e,r,n){var o=new _(h(t,e,r,n));return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(y),y[o]=function(){return this},y[i]="Generator",y.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=x,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?this.next=i.finallyLoc:this.complete(a),p},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},p}}}function h(t,r,n,o){var i=r&&r.prototype instanceof b?r:b,a=Object.create(i.prototype),c=new A(o||[]);return a._invoke=function(t,r,n){var o=u;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===l){if("throw"===i)throw a;return S()}for(;;){var c=n.delegate;if(c){if("return"===i||"throw"===i&&c.iterator[i]===e){n.delegate=null;var y=c.iterator.return;if(y)if("throw"===(h=v(y,c.iterator,a)).type){i="throw",a=h.arg;continue}if("return"===i)continue}var h;if("throw"===(h=v(c.iterator[i],c.iterator,a)).type){n.delegate=null,i="throw",a=h.arg;continue}if(i="next",a=e,!(b=h.arg).done)return o=s,b;n[c.resultName]=b.value,n.next=c.nextLoc,n.delegate=null}if("next"===i)n.sent=n._sent=a;else if("throw"===i){if(o===u)throw o=l,a;n.dispatchException(a)&&(i="next",a=e)}else"return"===i&&n.abrupt("return",a);if(o=f,"normal"===(h=v(t,r,n)).type){o=n.done?l:s;var b={value:h.arg,done:n.done};if(h.arg!==p)return b;n.delegate&&"next"===i&&(a=e)}else"throw"===h.type&&(o=l,i="throw",a=h.arg)}}}(t,n,c),a}function v(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function b(){}function d(){}function g(){}function j(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function w(t){this.arg=t}function _(t){function e(r,n,o,i){var a=v(t[r],t,n);if("throw"!==a.type){var c=a.arg,u=c.value;return u instanceof w?Promise.resolve(u.arg).then((function(t){e("next",t,o,i)}),(function(t){e("throw",t,o,i)})):Promise.resolve(u).then((function(t){c.value=t,o(c)}),i)}i(a.arg)}var r;"object"==typeof process&&process.domain&&(e=process.domain.bind(e)),this._invoke=function(t,n){function o(){return new Promise((function(r,o){e(t,n,r,o)}))}return r=r?r.then(o,o):o()}}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function x(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:void 0),t.createStore=function(t){var o=me(t),i=o.state,a=void 0===i?{}:i,c=o.computed,u=void 0===c?{}:c,s=o.actions,f=void 0===s?{}:s,l=o.name,p=o.enableDevTools,y=void 0===p||p,h=Object.seal({getters:{},watchers:{},dispatchers:{}}),v={setters:{},queue:[],actionHistory:[],actionFuture:[],recordMutations:!0,userDefinedWatchers:new Map,enableDevTools:!0===y};return h.getters=qe(a,u),h.watchers=function(t,e){var r=t.getters,o=e.userDefinedWatchers,i=function(t){return void 0===t&&(t=[]),function(e,a){var c=n(n([],t,!0),[a],!1),u=function(t){var e;null===(e=o.get(u))||void 0===e||e.add(t)},s=new Set;o.set(u,s),e[a]=u,e[a].destroy=function(t){return new Promise((function(e){setTimeout((function(){e(s.delete(t))}))}))};var f=Ve(r,c);if(Ie(f)){var l=Object.keys(f).reduce(i(c),{}),p=e[a];for(var y in l)p[y]=l[y]}return e}};return Object.keys(r).reduce(i(),{})}(h,v),v.setters=Je(l,a,u,h,v),h.dispatchers=function(t,n,o,i){var a=i.setters,c=i.queue,u=i.actionHistory,s=i.enableDevTools;return Object.keys(n).reduce((function(i,f){return i[f]=function(i){return e(void 0,void 0,void 0,(function(){var e,l,p,y;return r(this,(function(r){switch(r.label){case 0:return e=n[f],l=function(){},c.push(new Promise((function(t){return l=t}))),c.length>100&&c.shift(),[4,(p=c.length)>1?c[p-2]:Promise.resolve()];case 1:return r.sent(),y={name:f,payload:i,mutations:[]},u.unshift(y),[4,e({state:a,getters:o.getters,dispatchers:o.dispatchers,payload:i},l)];case 2:return r.sent(),e.length<2&&l(),[4,c[p-1]];case 3:return r.sent(),s&&"undefined"!=typeof window?(window.postMessage({type:"thunderState_action",message:{stateName:t,name:y.name,mutations:y.mutations}},"*"),[2]):[2]}}))}))},i}),{})}(l,f,h,v),v.enableDevTools&&Ye(l,h,v),h}}));//# sourceMappingURL=thunderState.min.js.map
